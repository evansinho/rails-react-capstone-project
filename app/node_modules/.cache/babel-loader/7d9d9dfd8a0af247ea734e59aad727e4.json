{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{withRouter}from'react-router-dom';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as houseActions from'../actions/houseActions';import Detail from'./Detail';import HiddenNav from'./HiddenNav';import Loader from'./Loader';var DetailsPage=function DetailsPage(_ref){var state=_ref.state,actions=_ref.actions,history=_ref.history,match=_ref.match;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];useEffect(function(){if(state.authenticated&&localStorage.getItem(\"token\")&&localStorage.getItem(\"token\")!=='undefined'){var token=localStorage.getItem('token');actions.fetchSubscription(\"https://aqueous-wildwood-18424.herokuapp.com/meets/\".concat(match.params.id),{headers:{\"Authorization\":\"Bearer \".concat(token)}});}},[state.authenticated]);useEffect(function(){if(state.subscription&&state.subscription.meet){setItem(state.subscription.meet);}},[state.subscription]);return/*#__PURE__*/React.createElement(\"div\",{style:{height:'100%',overflow:'hidden',pointerEvents:'none',backgroundColor:'#f7f5fa',zIndex:1}},state.subscription&&item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Detail,{item:item,creator:state.subscription.user,meetings:state.subscription.meetings,current_user:state.currentUser.id}),/*#__PURE__*/React.createElement(HiddenNav,null)):/*#__PURE__*/React.createElement(Loader,null));};function mapStateToProps(_ref2){var state=_ref2.state;return{state:_objectSpread({},state)};}function mapActionsToProps(dispatch){return{actions:bindActionCreators(_objectSpread({},houseActions),dispatch)};}export default connect(mapStateToProps,mapActionsToProps)(withRouter(DetailsPage));","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/DetailsPage.js"],"names":["React","useEffect","useState","withRouter","connect","bindActionCreators","houseActions","Detail","HiddenNav","Loader","DetailsPage","state","actions","history","match","item","setItem","authenticated","localStorage","getItem","token","fetchSubscription","params","id","headers","subscription","meet","height","overflow","pointerEvents","backgroundColor","zIndex","user","meetings","currentUser","mapStateToProps","mapActionsToProps","dispatch"],"mappings":"iWAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,MAAO,GAAKC,CAAAA,YAAZ,KAA8B,yBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAwC,IAArCC,CAAAA,KAAqC,MAArCA,KAAqC,CAA9BC,OAA8B,MAA9BA,OAA8B,CAArBC,OAAqB,MAArBA,OAAqB,CAAZC,KAAY,MAAZA,KAAY,eAClCZ,QAAQ,CAAC,IAAD,CAD0B,wCACnDa,IADmD,eAC7CC,OAD6C,eAG1Df,SAAS,CAAC,UAAM,CACd,GAAIU,KAAK,CAACM,aAAN,EACGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADH,EAEGD,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAkC,WAFzC,CAGI,CACA,GAAMC,CAAAA,KAAK,CAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEAP,OAAO,CAACS,iBAAR,8DAAgFP,KAAK,CAACQ,MAAN,CAAaC,EAA7F,EAAmG,CACjGC,OAAO,CAAE,CACP,iCAA2BJ,KAA3B,CADO,CADwF,CAAnG,EAKH,CACF,CAbQ,CAaN,CAACT,KAAK,CAACM,aAAP,CAbM,CAAT,CAeAhB,SAAS,CAAC,UAAM,CACd,GAAIU,KAAK,CAACc,YAAN,EAAsBd,KAAK,CAACc,YAAN,CAAmBC,IAA7C,CAAmD,CACjDV,OAAO,CAACL,KAAK,CAACc,YAAN,CAAmBC,IAApB,CAAP,CACD,CACF,CAJQ,CAIN,CAACf,KAAK,CAACc,YAAP,CAJM,CAAT,CAMA,mBACE,2BAAK,KAAK,CAAE,CACVE,MAAM,CAAE,MADE,CACMC,QAAQ,CAAE,QADhB,CAC0BC,aAAa,CAAE,MADzC,CACiDC,eAAe,CAAE,SADlE,CAC6EC,MAAM,CAAE,CADrF,CAAZ,EAKIpB,KAAK,CAACc,YAAN,EAAsBV,IAAtB,cAEI,qDACE,oBAAC,MAAD,EAAQ,IAAI,CAAEA,IAAd,CAAoB,OAAO,CAAEJ,KAAK,CAACc,YAAN,CAAmBO,IAAhD,CAAsD,QAAQ,CAAErB,KAAK,CAACc,YAAN,CAAmBQ,QAAnF,CAA6F,YAAY,CAAEtB,KAAK,CAACuB,WAAN,CAAkBX,EAA7H,EADF,cAEE,oBAAC,SAAD,MAFF,CAFJ,cAOI,oBAAC,MAAD,MAZR,CADF,CAiBD,CAzCD,CA2CA,QAASY,CAAAA,eAAT,OAAoC,IAATxB,CAAAA,KAAS,OAATA,KAAS,CAClC,MAAO,CAAEA,KAAK,kBAAOA,KAAP,CAAP,CAAP,CACD,CAED,QAASyB,CAAAA,iBAAT,CAA2BC,QAA3B,CAAqC,CACnC,MAAO,CACLzB,OAAO,CAAEP,kBAAkB,kBAAMC,YAAN,EAAsB+B,QAAtB,CADtB,CAAP,CAGD,CAOD,cAAejC,CAAAA,OAAO,CAAC+B,eAAD,CAAkBC,iBAAlB,CAAP,CAA4CjC,UAAU,CAACO,WAAD,CAAtD,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as houseActions from '../actions/houseActions';\nimport Detail from './Detail';\nimport HiddenNav from './HiddenNav';\nimport Loader from './Loader';\n\nconst DetailsPage = ({ state, actions, history, match }) => {\n  const [item, setItem] = useState(null);\n\n  useEffect(() => {\n    if (state.authenticated\n        && localStorage.getItem(\"token\")\n        && localStorage.getItem(\"token\") !== 'undefined'\n      ) {\n        const token = localStorage.getItem('token');\n\n        actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/meets/${match.params.id}`, {\n          headers: {\n            \"Authorization\": `Bearer ${token}`\n          }\n        });\n    }\n  }, [state.authenticated]);\n\n  useEffect(() => {\n    if (state.subscription && state.subscription.meet) {\n      setItem(state.subscription.meet);\n    }\n  }, [state.subscription]);\n\n  return (\n    <div style={{\n      height: '100%', overflow: 'hidden', pointerEvents: 'none', backgroundColor: '#f7f5fa', zIndex: 1,\n    }}\n    >\n      {\n        state.subscription && item\n          ? (\n            <>\n              <Detail item={item} creator={state.subscription.user} meetings={state.subscription.meetings} current_user={state.currentUser.id}/>\n              <HiddenNav />\n            </>\n          )\n          : <Loader />\n      }\n    </div>\n  );\n};\n\nfunction mapStateToProps({ state }) {\n  return { state: { ...state } };\n}\n\nfunction mapActionsToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ ...houseActions }, dispatch),\n  };\n}\n\nDetailsPage.propTypes = {\n  state: PropTypes.objectOf(PropTypes.any).isRequired,\n  actions: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(DetailsPage));\n"]},"metadata":{},"sourceType":"module"}