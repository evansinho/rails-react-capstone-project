{"ast":null,"code":"const effect = {\n  list: (state, history, actions) => {\n    if (state.authenticated && (!localStorage.getItem(\"token\") || localStorage.getItem(\"token\") === 'undefined')) {\n      localStorage.setItem('token', state.authenticated);\n      localStorage.setItem('id', state.currentUser.id);\n    } else if (localStorage.getItem(\"token\") && !state.authenticated) {\n      const token = localStorage.getItem(\"token\");\n      const currentU = localStorage.getItem('id');\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/users/${currentU}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      }, null, true);\n    } else if (!state.authenticated) {\n      history.push('/sign_in', state);\n    }\n  }\n};\nexport { effect };","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/helpers/effects.js"],"names":["effect","list","state","history","actions","authenticated","localStorage","getItem","setItem","currentUser","id","token","currentU","fetchSubscription","headers","push"],"mappings":"AAAA,MAAMA,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAE,CAACC,KAAD,EAAQC,OAAR,EAAiBC,OAAjB,KAA6B;AACjC,QAAIF,KAAK,CAACG,aAAN,KACD,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,IAAkCD,YAAY,CAACC,OAAb,CAAqB,OAArB,MAAkC,WADnE,CAAJ,EACqF;AACnFD,MAAAA,YAAY,CAACE,OAAb,CAAqB,OAArB,EAA8BN,KAAK,CAACG,aAApC;AACAC,MAAAA,YAAY,CAACE,OAAb,CAAqB,IAArB,EAA2BN,KAAK,CAACO,WAAN,CAAkBC,EAA7C;AACD,KAJD,MAIO,IAAIJ,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,CAACL,KAAK,CAACG,aAA5C,EAA2D;AAChE,YAAMM,KAAK,GAAGL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,YAAMK,QAAQ,GAAGN,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAjB;AACAH,MAAAA,OAAO,CAACS,iBAAR,CAA2B,sDAAqDD,QAAS,EAAzF,EAA4F;AAC1FE,QAAAA,OAAO,EAAE;AACP,2BAAkB,UAASH,KAAM;AAD1B;AADiF,OAA5F,EAIG,IAJH,EAIS,IAJT;AAKD,KARM,MAQA,IAAI,CAACT,KAAK,CAACG,aAAX,EAA0B;AAC/BF,MAAAA,OAAO,CAACY,IAAR,CAAa,UAAb,EAAyBb,KAAzB;AACD;AACF;AAjBY,CAAf;AAoBA,SAASF,MAAT","sourcesContent":["const effect = {\r\n  list: (state, history, actions) => {\r\n    if (state.authenticated &&\r\n      (!localStorage.getItem(\"token\") || localStorage.getItem(\"token\") === 'undefined')) {\r\n      localStorage.setItem('token', state.authenticated);\r\n      localStorage.setItem('id', state.currentUser.id);\r\n    } else if (localStorage.getItem(\"token\") && !state.authenticated) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const currentU = localStorage.getItem('id');\r\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/users/${currentU}`, {\r\n        headers: {\r\n          \"Authorization\": `Bearer ${token}`\r\n        }\r\n      }, null, true);\r\n    } else if (!state.authenticated) {\r\n      history.push('/sign_in', state);\r\n    }\r\n  },\r\n};\r\n\r\nexport { effect };"]},"metadata":{},"sourceType":"module"}