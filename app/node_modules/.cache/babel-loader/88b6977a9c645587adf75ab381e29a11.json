{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useEffect}from'react';import{withRouter}from'react-router-dom';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as houseActions from'../actions/houseActions';import HiddenNav from'./HiddenNav';import Messagems from'./Messagems';function MessagemsPage(_ref){var state=_ref.state,actions=_ref.actions,history=_ref.history;useEffect(function(){if(state.authenticated&&(!localStorage.getItem(\"token\")||localStorage.getItem(\"token\")==='undefined')){localStorage.setItem('token',state.authenticated);localStorage.setItem('id',state.currentUser.id);}else if(localStorage.getItem(\"token\")&&!state.authenticated){var token=localStorage.getItem(\"token\");var currentU=localStorage.getItem('id');actions.fetchSubscription(\"https://aqueous-wildwood-18424.herokuapp.com/users/\".concat(currentU),{headers:{\"Authorization\":\"Bearer \".concat(token)}},null,true);}else if(!state.authenticated){history.push('/sign_in',state);}},[state.authenticated]);return/*#__PURE__*/React.createElement(\"div\",{style:{height:'100%',overflow:'hidden',pointerEvents:'none',backgroundColor:'#f7f5fa',zIndex:1}},state.authenticated?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Messagems,null),/*#__PURE__*/React.createElement(HiddenNav,null)):null);}function mapStateToProps(_ref2){var state=_ref2.state;return{state:_objectSpread({},state)};}function mapActionsToProps(dispatch){return{actions:bindActionCreators(_objectSpread({},houseActions),dispatch)};}export default connect(mapStateToProps,mapActionsToProps)(withRouter(MessagemsPage));","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/MessagemsPage.js"],"names":["React","useEffect","withRouter","connect","bindActionCreators","houseActions","HiddenNav","Messagems","MessagemsPage","state","actions","history","authenticated","localStorage","getItem","setItem","currentUser","id","token","currentU","fetchSubscription","headers","push","height","overflow","pointerEvents","backgroundColor","zIndex","mapStateToProps","mapActionsToProps","dispatch"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,MAAO,GAAKC,CAAAA,YAAZ,KAA8B,yBAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA,QAASC,CAAAA,aAAT,MAAoD,IAA3BC,CAAAA,KAA2B,MAA3BA,KAA2B,CAApBC,OAAoB,MAApBA,OAAoB,CAAXC,OAAW,MAAXA,OAAW,CAClDV,SAAS,CAAC,UAAM,CACd,GAAIQ,KAAK,CAACG,aAAN,GACD,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,EAAkCD,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAkC,WADnE,CAAJ,CACqF,CACnFD,YAAY,CAACE,OAAb,CAAqB,OAArB,CAA8BN,KAAK,CAACG,aAApC,EACAC,YAAY,CAACE,OAAb,CAAqB,IAArB,CAA2BN,KAAK,CAACO,WAAN,CAAkBC,EAA7C,EACD,CAJD,IAIO,IAAIJ,YAAY,CAACC,OAAb,CAAqB,OAArB,GAAiC,CAACL,KAAK,CAACG,aAA5C,CAA2D,CAChE,GAAMM,CAAAA,KAAK,CAAGL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAMK,CAAAA,QAAQ,CAAGN,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAjB,CAEAJ,OAAO,CAACU,iBAAR,8DAAgFD,QAAhF,EAA4F,CAC1FE,OAAO,CAAE,CACP,iCAA2BH,KAA3B,CADO,CADiF,CAA5F,CAIG,IAJH,CAIS,IAJT,EAKD,CATM,IASA,IAAI,CAACT,KAAK,CAACG,aAAX,CAA0B,CAC/BD,OAAO,CAACW,IAAR,CAAa,UAAb,CAAyBb,KAAzB,EACD,CACF,CAjBQ,CAiBN,CAACA,KAAK,CAACG,aAAP,CAjBM,CAAT,CAmBA,mBACE,2BAAK,KAAK,CAAE,CACVW,MAAM,CAAE,MADE,CACMC,QAAQ,CAAE,QADhB,CAC0BC,aAAa,CAAE,MADzC,CACiDC,eAAe,CAAE,SADlE,CAC6EC,MAAM,CAAE,CADrF,CAAZ,EAKIlB,KAAK,CAACG,aAAN,cAEE,qDACA,oBAAC,SAAD,MADA,cAEA,oBAAC,SAAD,MAFA,CAFF,CAOE,IAZN,CADF,CAkBD,CAED,QAASgB,CAAAA,eAAT,OAAoC,IAATnB,CAAAA,KAAS,OAATA,KAAS,CAClC,MAAO,CAAEA,KAAK,kBAAOA,KAAP,CAAP,CAAP,CACD,CAED,QAASoB,CAAAA,iBAAT,CAA2BC,QAA3B,CAAqC,CACnC,MAAO,CACLpB,OAAO,CAAEN,kBAAkB,kBAAMC,YAAN,EAAsByB,QAAtB,CADtB,CAAP,CAGD,CAED,cAAe3B,CAAAA,OAAO,CAACyB,eAAD,CAAkBC,iBAAlB,CAAP,CAA4C3B,UAAU,CAACM,aAAD,CAAtD,CAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as houseActions from '../actions/houseActions';\r\nimport HiddenNav from './HiddenNav';\r\nimport Messagems from './Messagems';\r\n\r\nfunction MessagemsPage({ state, actions, history }) {\r\n  useEffect(() => {\r\n    if (state.authenticated &&\r\n      (!localStorage.getItem(\"token\") || localStorage.getItem(\"token\") === 'undefined')) {\r\n      localStorage.setItem('token', state.authenticated);\r\n      localStorage.setItem('id', state.currentUser.id);\r\n    } else if (localStorage.getItem(\"token\") && !state.authenticated) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const currentU = localStorage.getItem('id');\r\n\r\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/users/${currentU}`, {\r\n        headers: {\r\n          \"Authorization\": `Bearer ${token}`\r\n        }\r\n      }, null, true);\r\n    } else if (!state.authenticated) {\r\n      history.push('/sign_in', state);\r\n    }\r\n  }, [state.authenticated]);\r\n\r\n  return (\r\n    <div style={{\r\n      height: '100%', overflow: 'hidden', pointerEvents: 'none', backgroundColor: '#f7f5fa', zIndex: 1,\r\n    }}\r\n    >\r\n      {\r\n        state.authenticated\r\n        ? (\r\n          <>\r\n          <Messagems />\r\n          <HiddenNav />\r\n          </>\r\n        )\r\n        : null\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps({ state }) {\r\n  return { state: { ...state } };\r\n}\r\n\r\nfunction mapActionsToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({ ...houseActions }, dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(MessagemsPage));\r\n"]},"metadata":{},"sourceType":"module"}