{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\src\\\\components\\\\Detail.js\";\n\n/* eslint-disable react/no-unescaped-entities */\nimport React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as houseActions from '../actions/houseActions';\nimport Nav from './Nav';\nimport list from '../styles/List.module.css';\nimport Stars from './Stars';\nimport Loader from './Loader';\n\nconst Detail = ({\n  state,\n  actions,\n  history,\n  match\n}) => {\n  const [navOpen, setNavOpen] = useState(false);\n  const [fullText, setFullText] = useState(false);\n  const [item, setItem] = useState(null);\n\n  if (state.subscription) {\n    const creator = state.subscription.user;\n  }\n\n  if (state.subscription && state.subscription.user) {\n    const {\n      name,\n      picture\n    } = state.subscription.user;\n    const {\n      meetings\n    } = state.subscription;\n  }\n\n  const parent = useRef(null);\n\n  if (state.currentUser) {\n    const current_user = state.currentUser.id;\n  }\n\n  useEffect(() => {\n    if (state.authenticated && localStorage.getItem('token') && localStorage.getItem('token') !== 'undefined') {\n      const token = localStorage.getItem('token');\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/meets/${match.params.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n    }\n  }, [state.authenticated]);\n  useEffect(() => {\n    if (state.subscription && state.subscription.meet) {\n      setItem(state.subscription.meet);\n    }\n  }, [state.subscription]);\n  useEffect(() => {\n    if (navOpen === true) {\n      setFullText(false);\n    }\n  }, [navOpen]);\n\n  const clickHandler = () => {\n    setFullText(!fullText);\n  };\n\n  const keyDownHandler = () => {\n    clickHandler();\n  };\n\n  const handleClick = () => {\n    history.push('/messages/');\n  };\n\n  const handleFavorite = () => {\n    const token = localStorage.getItem('token');\n    fetch('https://aqueous-wildwood-18424.herokuapp.com/user_meets/', {\n      method: 'POST',\n      body: JSON.stringify({\n        user_id: `${state.currentUser.id}`,\n        meet_id: `${item.id}`\n      }),\n      headers: {\n        'Content-Length': 57,\n        'Content-Type': 'application/json; charset=utf-8',\n        Authorization: `Bearer ${token}`\n      },\n      credentials: 'same-origin'\n    }).then(res => res.json()).then(_json => {\n      history.push('/favorites/');\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: list['wrapper--details'],\n    ref: parent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    open: navOpen,\n    setNavOpen: setNavOpen,\n    parent: parent,\n    searchOpen: false,\n    local: \"Detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }), item ? /*#__PURE__*/React.createElement(\"main\", {\n    className: list[!fullText ? 'main--details' : 'main--details--open'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: list.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: list.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: list['profile-picture'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: state.subscription.user.picture,\n    alt: \"User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, state.subscription.user.name), /*#__PURE__*/React.createElement(Stars, {\n    points: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: list.right,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, item.day.substring(0, 3), ' ', \"-\", ' ', item.duration, \"h\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, item.frequency, ' ', \"meetings\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: list.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: list.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, item.title, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleFavorite,\n    className: \"btn btn-transparent\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, \"Add to favorites\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: list[!fullText ? 'summary--min' : 'summary'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, item.description, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, \"Next Meetings\"), state.subscription.meetings.map(meeting => /*#__PURE__*/React.createElement(\"div\", {\n    key: meeting.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: list['meeting-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, meeting.title), /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, Date(meeting.date)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, \"Confirmed participants:\", meeting.confirmed_members), /*#__PURE__*/React.createElement(\"a\", {\n    className: list['meeting-link'],\n    href: `${meeting.link}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: list.zoom,\n    src: \"https://seeklogo.com/images/Z/zoom-icon-logo-C552F99BAC-seeklogo.com.png\",\n    alt: \"Zoom online meeting link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 23\n    }\n  }), \"Meeting link\")))), /*#__PURE__*/React.createElement(\"div\", {\n    role: \"button\",\n    onClick: clickHandler,\n    className: list.down,\n    tabIndex: -1,\n    \"aria-label\": !fullText ? 'Show full text' : 'Hide text',\n    onKeyDown: keyDownHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, !fullText ? /*#__PURE__*/React.createElement(\"svg\", {\n    className: list['down-arrow'],\n    \"aria-hidden\": \"true\",\n    focusable: \"true\",\n    \"data-prefix\": \"fal\",\n    \"data-icon\": \"chevron-down\",\n    role: \"button\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 23\n    }\n  })) : /*#__PURE__*/React.createElement(\"svg\", {\n    className: list['down-arrow'],\n    \"aria-hidden\": \"true\",\n    focusable: \"true\",\n    \"data-prefix\": \"fal\",\n    \"data-icon\": \"chevron-up\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4.465 366.475l7.07 7.071c4.686 4.686 12.284 4.686 16.971 0L224 178.053l195.494 195.493c4.686 4.686 12.284 4.686 16.971 0l7.07-7.071c4.686-4.686 4.686-12.284 0-16.97l-211.05-211.051c-4.686-4.686-12.284-4.686-16.971 0L4.465 349.505c-4.687 4.686-4.687 12.284 0 16.97z\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    className: \"btn btn--orange--full\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }, \"Apply to join\"))) : /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }));\n};\n\nfunction mapStateToProps({\n  state\n}) {\n  return {\n    state: { ...state\n    }\n  };\n}\n\nfunction mapActionsToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ ...houseActions\n    }, dispatch)\n  };\n}\n\nDetail.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n  state: PropTypes.objectOf(PropTypes.any).isRequired,\n  actions: PropTypes.objectOf(PropTypes.any).isRequired,\n  match: PropTypes.objectOf(PropTypes.any).isRequired\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(Detail));","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/Detail.js"],"names":["React","useState","useRef","useEffect","PropTypes","withRouter","connect","bindActionCreators","houseActions","Nav","list","Stars","Loader","Detail","state","actions","history","match","navOpen","setNavOpen","fullText","setFullText","item","setItem","subscription","creator","user","name","picture","meetings","parent","currentUser","current_user","id","authenticated","localStorage","getItem","token","fetchSubscription","params","headers","Authorization","meet","clickHandler","keyDownHandler","handleClick","push","handleFavorite","fetch","method","body","JSON","stringify","user_id","meet_id","credentials","then","res","json","_json","catch","error","console","log","image","left","right","day","substring","duration","frequency","description","title","map","meeting","Date","date","confirmed_members","link","zoom","down","mapStateToProps","mapActionsToProps","dispatch","propTypes","objectOf","any","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-unescaped-entities */\nimport React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as houseActions from '../actions/houseActions';\nimport Nav from './Nav';\nimport list from '../styles/List.module.css';\nimport Stars from './Stars';\nimport Loader from './Loader';\n\nconst Detail = ({\n  state, actions, history, match,\n}) => {\n  const [navOpen, setNavOpen] = useState(false);\n  const [fullText, setFullText] = useState(false);\n  const [item, setItem] = useState(null);\n\n  if (state.subscription) {\n    const creator = state.subscription.user;\n  }\n\n  if (state.subscription && state.subscription.user) {\n    const { name, picture } = state.subscription.user;\n    const { meetings } = state.subscription;\n  }\n  const parent = useRef(null);\n\n  if (state.currentUser) {\n    const current_user = state.currentUser.id;\n  }\n\n  useEffect(() => {\n    if (state.authenticated\n        && localStorage.getItem('token')\n        && localStorage.getItem('token') !== 'undefined'\n    ) {\n      const token = localStorage.getItem('token');\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/meets/${match.params.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n    }\n  }, [state.authenticated]);\n\n  useEffect(() => {\n    if (state.subscription && state.subscription.meet) {\n      setItem(state.subscription.meet);\n    }\n  }, [state.subscription]);\n\n  useEffect(() => {\n    if (navOpen === true) {\n      setFullText(false);\n    }\n  }, [navOpen]);\n\n  const clickHandler = () => {\n    setFullText(!fullText);\n  };\n\n  const keyDownHandler = () => {\n    clickHandler();\n  };\n\n  const handleClick = () => {\n    history.push('/messages/');\n  };\n\n  const handleFavorite = () => {\n    const token = localStorage.getItem('token');\n\n    fetch('https://aqueous-wildwood-18424.herokuapp.com/user_meets/', {\n      method: 'POST',\n      body: JSON.stringify({\n        user_id: `${state.currentUser.id}`,\n        meet_id: `${item.id}`,\n      }),\n      headers: {\n        'Content-Length': 57,\n        'Content-Type': 'application/json; charset=utf-8',\n        Authorization: `Bearer ${token}`,\n      },\n      credentials: 'same-origin',\n    })\n      .then(res => res.json()).then(_json => {\n        history.push('/favorites/');\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <div className={list['wrapper--details']} ref={parent}>\n      <Nav open={navOpen} setNavOpen={setNavOpen} parent={parent} searchOpen={false} local=\"Detail\" />\n\n      { item\n        ? (\n          <main className={list[!fullText ? 'main--details' : 'main--details--open']}>\n            <div className={list.image}>\n              <div className={list.left}>\n                <div className={list['profile-picture']}>\n                  <img src={state.subscription.user.picture} alt=\"User\" />\n                </div>\n                <div>\n                  <h5>{state.subscription.user.name}</h5>\n                  <Stars points={3} />\n                </div>\n              </div>\n              <div className={list.right}>\n                <h5>\n                  {item.day.substring(0, 3)}\n                  {' '}\n                  -\n                  {' '}\n                  {item.duration}\n                  h\n                </h5>\n                <small>\n                  {item.frequency}\n                  {' '}\n                  meetings\n                </small>\n              </div>\n            </div>\n            <div className={list.description}>\n              <h4 className={list.title}>\n                { item.title }\n                <button onClick={handleFavorite} className=\"btn btn-transparent\" type=\"button\">Add to favorites</button>\n              </h4>\n              <p className={list[!fullText ? 'summary--min' : 'summary']}>\n                { item.description }\n                <hr />\n                <h5>Next Meetings</h5>\n                { state.subscription.meetings.map(meeting => (\n                  <div key={meeting.id}>\n                    <h6 className={list['meeting-title']}>{meeting.title}</h6>\n                    <em>{Date(meeting.date)}</em>\n                    <p>\n                      Confirmed participants:\n                      {meeting.confirmed_members}\n                    </p>\n                    <a className={list['meeting-link']} href={`${meeting.link}`}>\n                      <img className={list.zoom} src=\"https://seeklogo.com/images/Z/zoom-icon-logo-C552F99BAC-seeklogo.com.png\" alt=\"Zoom online meeting link\" />\n                      Meeting link\n                    </a>\n                  </div>\n                )) }\n              </p>\n              <div\n                role=\"button\"\n                onClick={clickHandler}\n                className={list.down}\n                tabIndex={-1}\n                aria-label={!fullText ? 'Show full text' : 'Hide text'}\n                onKeyDown={keyDownHandler}\n              >\n                {\n                !fullText\n                  ? (\n                    <svg className={list['down-arrow']} aria-hidden=\"true\" focusable=\"true\" data-prefix=\"fal\" data-icon=\"chevron-down\" role=\"button\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\n                      <path fill=\"currentColor\" d=\"M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z\" className=\"\" />\n                    </svg>\n                  ) : (\n                    <svg className={list['down-arrow']} aria-hidden=\"true\" focusable=\"true\" data-prefix=\"fal\" data-icon=\"chevron-up\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\n                      <path fill=\"currentColor\" d=\"M4.465 366.475l7.07 7.071c4.686 4.686 12.284 4.686 16.971 0L224 178.053l195.494 195.493c4.686 4.686 12.284 4.686 16.971 0l7.07-7.071c4.686-4.686 4.686-12.284 0-16.97l-211.05-211.051c-4.686-4.686-12.284-4.686-16.971 0L4.465 349.505c-4.687 4.686-4.687 12.284 0 16.97z\" className=\"\" />\n                    </svg>\n                  )\n              }\n\n              </div>\n              <button onClick={handleClick} className=\"btn btn--orange--full\" type=\"button\">\n                Apply to join\n              </button>\n            </div>\n          </main>\n        )\n        : <Loader />}\n    </div>\n  );\n};\n\nfunction mapStateToProps({ state }) {\n  return { state: { ...state } };\n}\n\nfunction mapActionsToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ ...houseActions }, dispatch),\n  };\n}\n\nDetail.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n  state: PropTypes.objectOf(PropTypes.any).isRequired,\n  actions: PropTypes.objectOf(PropTypes.any).isRequired,\n  match: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(Detail));\n"]},"metadata":{},"sourceType":"module"}