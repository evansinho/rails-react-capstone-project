{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import{withRouter,Link}from'react-router-dom';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as houseActions from'../actions/houseActions';import Nav from'./Nav';import Loader from'./Loader';import CarouselCard from'./CarouselCard';import list from'../styles/List.module.css';import fav from'../styles/Favorites.module.css';var Favorites=function Favorites(_ref){var state=_ref.state,actions=_ref.actions,history=_ref.history;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),navOpen=_useState4[0],setNavOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),fullText=_useState6[0],setFullText=_useState6[1];var parent=useRef(null);useEffect(function(){if(state.authenticated&&(!localStorage.getItem(\"token\")||localStorage.getItem(\"token\")==='undefined')){localStorage.setItem('token',state.authenticated);localStorage.setItem('id',state.currentUser.id);}else if(localStorage.getItem(\"token\")&&!state.authenticated){var token=localStorage.getItem(\"token\");var currentU=localStorage.getItem('id');actions.fetchSubscription(\"https://aqueous-wildwood-18424.herokuapp.com/users/\".concat(currentU),{headers:{\"Authorization\":\"Bearer \".concat(token)}},null,true);}else if(!state.authenticated){history.push('/sign_in',state);}else if(state.authenticated&&localStorage.getItem(\"token\")&&localStorage.getItem(\"token\")!=='undefined'){var _token=localStorage.getItem('token');actions.fetchSubscription(\"https://aqueous-wildwood-18424.herokuapp.com/user_meets/meets/\".concat(state.currentUser.id,\"/\"),{headers:{\"Authorization\":\"Bearer \".concat(_token)}});}},[state.authenticated]);useEffect(function(){if(state.subscription){setItems(state.subscription.res);}},[state.subscription]);return/*#__PURE__*/React.createElement(\"main\",{className:list['wrapper--favorites'],ref:parent},/*#__PURE__*/React.createElement(Nav,{open:navOpen,setNavOpen:setNavOpen,parent:parent,searchOpen:false,local:\"Favorites\"}),items?/*#__PURE__*/React.createElement(\"main\",{className:fav.main},items.length&&items.length>0?items.map(function(item){return/*#__PURE__*/React.createElement(CarouselCard,{id:\"card-\".concat(item.id),item:item,name:item.name,type:'product',history:history,state:state});}):/*#__PURE__*/React.createElement(\"div\",{className:list.title,style:{flexDirection:'column'}},/*#__PURE__*/React.createElement(\"h1\",null,\"You have not favorited any meet yet\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/list\"},\"Check out the current meets here\")))):/*#__PURE__*/React.createElement(Loader,null));};function mapStateToProps(_ref2){var state=_ref2.state;return{state:_objectSpread({},state)};}function mapActionsToProps(dispatch){return{actions:bindActionCreators(_objectSpread({},houseActions),dispatch)};}export default connect(mapStateToProps,mapActionsToProps)(withRouter(Favorites));","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/Favorites.js"],"names":["React","useState","useRef","useEffect","withRouter","Link","connect","bindActionCreators","houseActions","Nav","Loader","CarouselCard","list","fav","Favorites","state","actions","history","items","setItems","navOpen","setNavOpen","fullText","setFullText","parent","authenticated","localStorage","getItem","setItem","currentUser","id","token","currentU","fetchSubscription","headers","push","subscription","res","main","length","map","item","name","title","flexDirection","mapStateToProps","mapActionsToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as houseActions from '../actions/houseActions';\r\nimport Nav from './Nav';\r\nimport Loader from './Loader';\r\nimport CarouselCard from './CarouselCard';\r\nimport list from '../styles/List.module.css';\r\nimport fav from '../styles/Favorites.module.css';\r\n\r\nconst Favorites = ({ state, actions, history }) => {\r\n  const [items, setItems] = useState(null);\r\n  const [navOpen, setNavOpen] = useState(false);\r\n  const [fullText, setFullText] = useState(false);\r\n  const parent = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (state.authenticated &&\r\n      (!localStorage.getItem(\"token\") || localStorage.getItem(\"token\") === 'undefined')) {\r\n      localStorage.setItem('token', state.authenticated);\r\n      localStorage.setItem('id', state.currentUser.id);\r\n    } else if (localStorage.getItem(\"token\") && !state.authenticated) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const currentU = localStorage.getItem('id');\r\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/users/${currentU}`, {\r\n        headers: {\r\n          \"Authorization\": `Bearer ${token}`\r\n        }\r\n      }, null, true);\r\n    } else if (!state.authenticated) {\r\n      history.push('/sign_in', state);\r\n    } else if (state.authenticated\r\n      && localStorage.getItem(\"token\")\r\n      && localStorage.getItem(\"token\") !== 'undefined'\r\n    ) {\r\n      const token = localStorage.getItem('token');\r\n\r\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/user_meets/meets/${state.currentUser.id}/`, {\r\n        headers: {\r\n          \"Authorization\": `Bearer ${token}`\r\n        }\r\n      });\r\n    }\r\n  }, [state.authenticated]);\r\n\r\n  useEffect(() => {\r\n    if (state.subscription) {\r\n      setItems(state.subscription.res);\r\n    }\r\n  }, [state.subscription]);\r\n\r\n  return (\r\n    <main className={list['wrapper--favorites']} ref={parent}>\r\n      <Nav open={navOpen} setNavOpen={setNavOpen} parent={parent} searchOpen={false} local=\"Favorites\" />\r\n      {\r\n        items\r\n          ? (\r\n            <main className={fav.main}>\r\n              {items.length && items.length > 0\r\n                ? items.map(item => (\r\n                  <CarouselCard id={`card-${item.id}`} item={item} name={item.name} type={'product'} history={history} state={state} />\r\n                ))\r\n                : (\r\n                  <div className={list.title} style={{flexDirection: 'column'}}>\r\n                    <h1>You have not favorited any meet yet</h1>\r\n                    <p><a href=\"/list\">Check out the current meets here</a></p>\r\n                  </div>\r\n                )\r\n              }\r\n            </main>\r\n          )\r\n          : (<Loader />)\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps({ state }) {\r\n  return { state: { ...state } };\r\n}\r\n\r\nfunction mapActionsToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({ ...houseActions }, dispatch),\r\n  };\r\n}\r\n\r\nFavorites.propTypes = {\r\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(Favorites));"]},"metadata":{},"sourceType":"module"}