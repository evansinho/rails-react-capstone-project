{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\src\\\\components\\\\SignUpPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, Link } from 'react-router-dom';\nimport signup from '../styles/SignUpPage.module.css';\nimport Alert from './Alert';\n\nconst SignUpPage = ({\n  history,\n  type,\n  handleAuth\n}) => {\n  const [alert, setAlert] = useState(false);\n  useEffect(async () => {\n    const token = localStorage.getItem(\"token\");\n\n    if (token && token !== 'undefined') {\n      console.log((await handleAuth(history)));\n      history.push('/list', null);\n    }\n  }, []);\n\n  const handleSubmit = async () => {\n    await fetch(\"http://localhost:3001/auth/login\", {\n      method: \"POST\",\n      body: `{\n        \"email\": \"sarah01@mail.com\",\n        \"password\": \"123abc\"\n      }`,\n      headers: {\n        \"Content-Length\": 57,\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      },\n      credentials: \"same-origin\"\n    }).then(function (response) {\n      response.json().then(json => {\n        localStorage.setItem(\"token\", json.auth_token);\n        const token = localStorage.getItem('token');\n\n        if (token && token !== 'undefined') {\n          history.push('/list', null);\n        }\n\n        return true;\n      });\n    }).catch(function (_error) {\n      history.push('/sign_un', null);\n    });\n  };\n\n  const clickHandler = async e => {\n    e.preventDefault();\n    let result = await handleSubmit();\n\n    if (!result) {\n      console.log(result);\n    } else {\n      setAlert(false);\n      history.push('/list', null);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    key: alert,\n    className: signup.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, alert ? /*#__PURE__*/React.createElement(Alert, {\n    message: alert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, `Sign ${type === 'IN' ? 'in' : 'up'}`), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, type === 'IN' ? 'Welcome back! Sign in and meet with your friends' : 'Hello there! Sign up and start meeting new friends')), /*#__PURE__*/React.createElement(\"form\", {\n    className: signup.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: signup.input,\n    id: \"email\",\n    type: \"email\",\n    placeholder: \"your@mail.com\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: signup.input,\n    id: \"password\",\n    type: \"password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  })), type === 'IN' ? null : /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"confirmPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: signup.input,\n    id: \"confirmPassword\",\n    type: \"password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clickHandler,\n    type: \"submit\",\n    className: \"btn btn--orange\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, type === 'IN' ? 'Sign in' : 'Sign up')), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: signup.back,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, '< Back'));\n};\n\nSignUpPage.propTypes = {\n  type: PropTypes.string.isRequired,\n  history: PropTypes.objectOf(PropTypes.any).isRequired\n};\nexport default withRouter(SignUpPage);","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/SignUpPage.js"],"names":["React","useEffect","useState","PropTypes","withRouter","Link","signup","Alert","SignUpPage","history","type","handleAuth","alert","setAlert","token","localStorage","getItem","console","log","push","handleSubmit","fetch","method","body","headers","credentials","then","response","json","setItem","auth_token","catch","_error","clickHandler","e","preventDefault","result","main","form","input","back","propTypes","string","isRequired","objectOf","any"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, Link } from 'react-router-dom';\nimport signup from '../styles/SignUpPage.module.css';\nimport Alert from './Alert';\n\n\nconst SignUpPage = ({ history, type, handleAuth }) => {\n  const [alert, setAlert] = useState(false);\n\n  useEffect(async () => {\n    const token = localStorage.getItem(\"token\");\n    if (token && token !== 'undefined') {\n      console.log(await handleAuth(history));\n      history.push('/list', null);\n    }\n  }, []);\n\n  const handleSubmit = async () => {\n    await fetch(\"http://localhost:3001/auth/login\", {\n      method: \"POST\",\n      body: `{\n        \"email\": \"sarah01@mail.com\",\n        \"password\": \"123abc\"\n      }`,\n      headers: {\n        \"Content-Length\": 57,\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      },\n      credentials: \"same-origin\"\n    }).then(function (response) {\n      response.json().then(json => {\n        localStorage.setItem(\"token\", json.auth_token);\n        const token = localStorage.getItem('token');\n        if (token && token !== 'undefined') {\n          history.push('/list', null);\n        }\n        return true;\n      });\n    }).catch(function (_error) {\n      history.push('/sign_un', null);\n    });\n  }\n\n  const clickHandler = async e => {\n    e.preventDefault();\n\n    let result = await handleSubmit();\n\n    if (!result) {\n      console.log(result)\n    } else {\n      setAlert(false);\n      history.push('/list', null);\n    }\n  };\n\n  return (\n    <main key={alert} className={signup.main}>\n      {\n        alert ? ( <Alert message={alert} />) : null\n      }\n      <header>\n        <h1>{`Sign ${type === 'IN' ? 'in' : 'up'}`}</h1>\n        <small>\n          {type === 'IN' ? 'Welcome back! Sign in and meet with your friends' : 'Hello there! Sign up and start meeting new friends'}\n        </small>\n      </header>\n      <form className={signup.form}>\n        <label htmlFor=\"email\">\n          <input className={signup.input} id=\"email\" type=\"email\" placeholder=\"your@mail.com\" required />\n        </label>\n        <label htmlFor=\"password\">\n          <input className={signup.input} id=\"password\" type=\"password\" required />\n        </label>\n        {type === 'IN' ? null : (\n          <label htmlFor=\"confirmPassword\">\n            <input className={signup.input} id=\"confirmPassword\" type=\"password\" required />\n          </label>\n        )}\n        <button onClick={clickHandler} type=\"submit\" className=\"btn btn--orange\">\n          {type === 'IN' ? 'Sign in' : 'Sign up'}\n        </button>\n      </form>\n      <Link to=\"/\" className={signup.back}>{'< Back'}</Link>\n    </main>\n  );\n};\n\nSignUpPage.propTypes = {\n  type: PropTypes.string.isRequired,\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default withRouter(SignUpPage);\n"]},"metadata":{},"sourceType":"module"}