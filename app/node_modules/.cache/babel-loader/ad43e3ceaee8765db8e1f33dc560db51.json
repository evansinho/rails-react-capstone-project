{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as houseActions from'../actions/houseActions';import Nav from'./Nav';import Loader from'./Loader';import Chat from'./Chat';import list from'../styles/List.module.css';import chat from'../styles/Chat.module.css';import MessageBar from'./MessageBar';import ChatPals from'./ChatPals';var Messages=function Messages(_ref){var actions=_ref.actions,state=_ref.state;var parent=useRef(null);useEffect(function(){var token=localStorage.getItem(\"token\");actions.fetchSubscription('https://aqueous-wildwood-18424.herokuapp.com/meets',{headers:{\"Authorization\":\"Bearer \".concat(token)}});},[]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),navOpen=_useState2[0],setNavOpen=_useState2[1];var subscription=state.subscription;var clickHandler=function clickHandler(){if(navOpen){setNavOpen(false);}};var KeyDownHandler=function KeyDownHandler(){clickHandler();};return/*#__PURE__*/React.createElement(\"div\",{onClick:clickHandler,onKeyDown:KeyDownHandler,role:\"button\",ref:parent,className:list.wrapper,\"aria-label\":\"Close side navigation menu\",tabIndex:-1},/*#__PURE__*/React.createElement(Nav,{open:navOpen,setNavOpen:setNavOpen,parent:parent,searchOpen:false,local:\"Messagems\"}),/*#__PURE__*/React.createElement(\"main\",{className:chat.wrapper},subscription?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ChatPals,null),/*#__PURE__*/React.createElement(Chat,null),/*#__PURE__*/React.createElement(MessageBar,null)):/*#__PURE__*/React.createElement(Loader,null)));};function mapStateToProps(_ref2){var state=_ref2.state;return{state:_objectSpread({},state)};}function mapActionsToProps(dispatch){return{actions:bindActionCreators(_objectSpread({},houseActions),dispatch)};}export default connect(mapStateToProps,mapActionsToProps)(Messages);","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/Messagems.js"],"names":["React","useEffect","useRef","useState","connect","bindActionCreators","houseActions","Nav","Loader","Chat","list","chat","MessageBar","ChatPals","Messages","actions","state","parent","token","localStorage","getItem","fetchSubscription","headers","navOpen","setNavOpen","subscription","clickHandler","KeyDownHandler","wrapper","mapStateToProps","mapActionsToProps","dispatch"],"mappings":"iWAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAmD,OAAnD,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,MAAO,GAAKC,CAAAA,YAAZ,KAA8B,yBAA9B,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAwB,IAArBC,CAAAA,OAAqB,MAArBA,OAAqB,CAAZC,KAAY,MAAZA,KAAY,CACvC,GAAMC,CAAAA,MAAM,CAAGf,MAAM,CAAC,IAAD,CAArB,CAEAD,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACAL,OAAO,CAACM,iBAAR,CAA0B,oDAA1B,CAAgF,CAC9EC,OAAO,CAAE,CACP,iCAA2BJ,KAA3B,CADO,CADqE,CAAhF,EAKD,CAPQ,CAON,EAPM,CAAT,CAHuC,cAYTf,QAAQ,CAAC,KAAD,CAZC,wCAYhCoB,OAZgC,eAYvBC,UAZuB,kBAc/BC,CAAAA,YAd+B,CAcdT,KAdc,CAc/BS,YAd+B,CAgBvC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAIH,OAAJ,CAAa,CACXC,UAAU,CAAC,KAAD,CAAV,CACD,CACF,CAJD,CAMA,GAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BD,YAAY,GACb,CAFD,CAIA,mBACE,2BACE,OAAO,CAAEA,YADX,CAEE,SAAS,CAAEC,cAFb,CAGE,IAAI,CAAC,QAHP,CAIE,GAAG,CAAEV,MAJP,CAKE,SAAS,CAAEP,IAAI,CAACkB,OALlB,CAME,aAAW,4BANb,CAOE,QAAQ,CAAE,CAAC,CAPb,eASE,oBAAC,GAAD,EAAK,IAAI,CAAEL,OAAX,CAAoB,UAAU,CAAEC,UAAhC,CAA4C,MAAM,CAAEP,MAApD,CAA4D,UAAU,CAAE,KAAxE,CAA+E,KAAK,CAAC,WAArF,EATF,cAUE,4BAAM,SAAS,CAAEN,IAAI,CAACiB,OAAtB,EACGH,YAAY,cAET,qDACE,oBAAC,QAAD,MADF,cAEE,oBAAC,IAAD,MAFF,cAGE,oBAAC,UAAD,MAHF,CAFS,cAQT,oBAAC,MAAD,MATN,CAVF,CADF,CAwBD,CAlDD,CAqDA,QAASI,CAAAA,eAAT,OAAoC,IAATb,CAAAA,KAAS,OAATA,KAAS,CAClC,MAAO,CAAEA,KAAK,kBAAOA,KAAP,CAAP,CAAP,CACD,CAED,QAASc,CAAAA,iBAAT,CAA2BC,QAA3B,CAAqC,CACnC,MAAO,CACLhB,OAAO,CAAEV,kBAAkB,kBAAMC,YAAN,EAAsByB,QAAtB,CADtB,CAAP,CAGD,CAKD,cAAe3B,CAAAA,OAAO,CAACyB,eAAD,CAAkBC,iBAAlB,CAAP,CAA4ChB,QAA5C,CAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as houseActions from '../actions/houseActions';\r\nimport Nav from './Nav';\r\nimport Loader from './Loader';\r\nimport Chat from './Chat';\r\nimport list from '../styles/List.module.css';\r\nimport chat from '../styles/Chat.module.css';\r\nimport MessageBar from './MessageBar';\r\nimport ChatPals from './ChatPals';\r\n\r\nconst Messages = ({ actions, state }) => {\r\n  const parent = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    actions.fetchSubscription('https://aqueous-wildwood-18424.herokuapp.com/meets', {\r\n      headers: {\r\n        \"Authorization\": `Bearer ${token}`\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const [navOpen, setNavOpen] = useState(false);\r\n\r\n  const { subscription } = state;\r\n\r\n  const clickHandler = () => {\r\n    if (navOpen) {\r\n      setNavOpen(false);\r\n    }\r\n  };\r\n\r\n  const KeyDownHandler = () => {\r\n    clickHandler();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={clickHandler}\r\n      onKeyDown={KeyDownHandler}\r\n      role=\"button\"\r\n      ref={parent}\r\n      className={list.wrapper}\r\n      aria-label=\"Close side navigation menu\"\r\n      tabIndex={-1}\r\n    >\r\n      <Nav open={navOpen} setNavOpen={setNavOpen} parent={parent} searchOpen={false} local=\"Messagems\" />\r\n      <main className={chat.wrapper}>\r\n        {subscription\r\n          ? (\r\n            <>\r\n              <ChatPals />\r\n              <Chat />\r\n              <MessageBar />\r\n            </>\r\n          )\r\n          : <Loader />}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nfunction mapStateToProps({ state }) {\r\n  return { state: { ...state } };\r\n}\r\n\r\nfunction mapActionsToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({ ...houseActions }, dispatch),\r\n  };\r\n}\r\n\r\nMessages.propTypes = {\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Messages);"]},"metadata":{},"sourceType":"module"}