{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\src\\\\components\\\\Detail.js\";\n\n/* eslint-disable react/no-unescaped-entities */\nimport React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Nav from './Nav';\nimport list from '../styles/List.module.css';\nimport Stars from './Stars';\n\nconst Detail = ({\n  history,\n  meetings,\n  current_user\n}) => {\n  const {\n    description,\n    title,\n    frequency,\n    day,\n    duration,\n    id\n  } = item;\n  const creator = state.subscription.user;\n  const {\n    name,\n    picture\n  } = creator;\n  const parent = useRef(null);\n  const [navOpen, setNavOpen] = useState(false);\n  const [fullText, setFullText] = useState(false);\n  const [item, setItem] = useState(null);\n  useEffect(() => {\n    if (state.authenticated && localStorage.getItem(\"token\") && localStorage.getItem(\"token\") !== 'undefined') {\n      const token = localStorage.getItem('token');\n      actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/meets/${match.params.id}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n    }\n  }, [state.authenticated]);\n  useEffect(() => {\n    if (state.subscription && state.subscription.meet) {\n      setItem(state.subscription.meet);\n    }\n  }, [state.subscription]);\n  useEffect(() => {\n    if (navOpen === true) {\n      setFullText(false);\n    }\n  }, [navOpen]);\n\n  const clickHandler = () => {\n    setFullText(!fullText);\n  };\n\n  const keyDownHandler = () => {\n    clickHandler();\n  };\n\n  const handleClick = () => {\n    history.push('/messages/');\n  };\n\n  const handleFavorite = () => {\n    const token = localStorage.getItem('token');\n    fetch('https://aqueous-wildwood-18424.herokuapp.com/user_meets/', {\n      method: \"POST\",\n      body: JSON.stringify({\n        user_id: `${current_user}`,\n        meet_id: `${id}`\n      }),\n      headers: {\n        \"Content-Length\": 57,\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      credentials: \"same-origin\"\n    }).then(res => res.json()).then(_json => {\n      history.push('/favorites/');\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: list['wrapper--details'],\n    ref: parent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    open: navOpen,\n    setNavOpen: setNavOpen,\n    parent: parent,\n    searchOpen: false,\n    local: \"Detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: list[!fullText ? 'main--details' : 'main--details--open'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: list.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: list.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: list['profile-picture'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: picture,\n    alt: \"User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, name), /*#__PURE__*/React.createElement(Stars, {\n    points: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: list.right,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, day.substring(0, 3), \" - \", duration, \"h\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, frequency, \" meetings\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: list.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: list.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, title, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleFavorite,\n    className: \"btn btn-transparent\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Add to favorites\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: list[!fullText ? 'summary--min' : 'summary'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, description, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Next Meetings\"), meetings.map(meeting => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: list['meeting-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, meeting.title), /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, meeting.date), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"Confirmed participants: \", meeting.confirmed_members), /*#__PURE__*/React.createElement(\"a\", {\n    className: list['meeting-link'],\n    href: `${meeting.link}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: list.zoom,\n    src: \"https://seeklogo.com/images/Z/zoom-icon-logo-C552F99BAC-seeklogo.com.png\",\n    alt: \"Zoom online meeting link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }), \"Meeting link\")))), /*#__PURE__*/React.createElement(\"div\", {\n    role: \"button\",\n    onClick: clickHandler,\n    className: list.down,\n    tabIndex: -1,\n    \"aria-label\": !fullText ? 'Show full text' : 'Hide text',\n    onKeyDown: keyDownHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, !fullText ? /*#__PURE__*/React.createElement(\"svg\", {\n    className: list['down-arrow'],\n    \"aria-hidden\": \"true\",\n    focusable: \"true\",\n    \"data-prefix\": \"fal\",\n    \"data-icon\": \"chevron-down\",\n    role: \"button\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(\"svg\", {\n    className: list['down-arrow'],\n    \"aria-hidden\": \"true\",\n    focusable: \"true\",\n    \"data-prefix\": \"fal\",\n    \"data-icon\": \"chevron-up\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4.465 366.475l7.07 7.071c4.686 4.686 12.284 4.686 16.971 0L224 178.053l195.494 195.493c4.686 4.686 12.284 4.686 16.971 0l7.07-7.071c4.686-4.686 4.686-12.284 0-16.97l-211.05-211.051c-4.686-4.686-12.284-4.686-16.971 0L4.465 349.505c-4.687 4.686-4.687 12.284 0 16.97z\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    className: \"btn btn--orange--full\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, \"Apply to join\"))));\n};\n\nDetail.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired\n};\nexport default withRouter(Detail);","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/Detail.js"],"names":["React","useState","useRef","useEffect","PropTypes","withRouter","Nav","list","Stars","Detail","history","meetings","current_user","description","title","frequency","day","duration","id","item","creator","state","subscription","user","name","picture","parent","navOpen","setNavOpen","fullText","setFullText","setItem","authenticated","localStorage","getItem","token","actions","fetchSubscription","match","params","headers","meet","clickHandler","keyDownHandler","handleClick","push","handleFavorite","fetch","method","body","JSON","stringify","user_id","meet_id","credentials","then","res","json","_json","catch","error","console","log","image","left","right","substring","map","meeting","date","confirmed_members","link","zoom","down","propTypes","objectOf","any","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-unescaped-entities */\nimport React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Nav from './Nav';\nimport list from '../styles/List.module.css';\nimport Stars from './Stars';\n\nconst Detail = ({ history, meetings, current_user }) => {\n  const { description, title, frequency, day, duration, id } = item;\n  const creator = state.subscription.user;\n  const { name, picture } = creator; \n  const parent = useRef(null);\n\n  const [navOpen, setNavOpen] = useState(false);\n  const [fullText, setFullText] = useState(false);\n\n  const [item, setItem] = useState(null);\n\n  useEffect(() => {\n    if (state.authenticated\n        && localStorage.getItem(\"token\")\n        && localStorage.getItem(\"token\") !== 'undefined'\n      ) {\n        const token = localStorage.getItem('token');\n\n        actions.fetchSubscription(`https://aqueous-wildwood-18424.herokuapp.com/meets/${match.params.id}`, {\n          headers: {\n            \"Authorization\": `Bearer ${token}`\n          }\n        });\n    }\n  }, [state.authenticated]);\n\n  useEffect(() => {\n    if (state.subscription && state.subscription.meet) {\n      setItem(state.subscription.meet);\n    }\n  }, [state.subscription]);\n\n  useEffect(() => {\n    if (navOpen === true) {\n      setFullText(false);\n    }\n  }, [navOpen]);\n\n  const clickHandler = () => {\n    setFullText(!fullText);\n  };\n\n  const keyDownHandler = () => {\n    clickHandler();\n  };\n\n  const handleClick = () => {\n    history.push('/messages/');\n  };\n\n  const handleFavorite = () => {\n    const token = localStorage.getItem('token');\n\n    fetch('https://aqueous-wildwood-18424.herokuapp.com/user_meets/', {\n      method: \"POST\",\n      body: JSON.stringify({\n        user_id: `${current_user}`,\n        meet_id: `${id}`,\n      }),\n      headers: {\n        \"Content-Length\": 57,\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      credentials: \"same-origin\"\n    })\n    .then(res => res.json()).then(_json => {\n      history.push('/favorites/');\n    })\n    .catch(error => {\n      console.log(error);\n    })\n  };\n\n  return (\n    <div className={list['wrapper--details']} ref={parent}>\n      <Nav open={navOpen} setNavOpen={setNavOpen} parent={parent} searchOpen={false} local=\"Detail\" />\n      <main className={list[!fullText ? 'main--details' : 'main--details--open']}>\n        <div className={list.image}>\n          <div className={list.left}>\n            <div className={list['profile-picture']}>\n              <img src={picture} alt=\"User\" />\n            </div>\n            <div>\n              <h5>{name}</h5>\n              <Stars points={3} />\n            </div>\n          </div>\n          <div className={list.right}>\n            <h5>{day.substring(0,3)} - {duration}h</h5>\n            <small>{frequency} meetings</small>\n          </div>\n        </div>\n        <div className={list.description}>\n          <h4 className={list.title}>\n            { title }\n            <button onClick={handleFavorite} className=\"btn btn-transparent\" type=\"button\">Add to favorites</button>\n          </h4>\n          <p className={list[!fullText ? 'summary--min' : 'summary']}>\n            { description }\n            <hr/>\n            <h5>Next Meetings</h5>\n            { meetings.map(meeting => (\n              <div>\n                <h6 className={list['meeting-title']}>{meeting.title}</h6>\n                <em>{meeting.date}</em>\n                <p>Confirmed participants: {meeting.confirmed_members}</p>\n                <a className={list['meeting-link']} href={`${meeting.link}`}>\n                  <img className={list.zoom} src='https://seeklogo.com/images/Z/zoom-icon-logo-C552F99BAC-seeklogo.com.png' alt='Zoom online meeting link' />\n                  Meeting link\n                </a>\n              </div>\n            )) }\n          </p>\n          <div\n            role=\"button\"\n            onClick={clickHandler}\n            className={list.down}\n            tabIndex={-1}\n            aria-label={!fullText ? 'Show full text' : 'Hide text'}\n            onKeyDown={keyDownHandler}\n          >\n            {\n              !fullText\n                ? (\n                  <svg className={list['down-arrow']} aria-hidden=\"true\" focusable=\"true\" data-prefix=\"fal\" data-icon=\"chevron-down\" role=\"button\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\n                    <path fill=\"currentColor\" d=\"M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z\" className=\"\" />\n                  </svg>\n                ) : (\n                  <svg className={list['down-arrow']} aria-hidden=\"true\" focusable=\"true\" data-prefix=\"fal\" data-icon=\"chevron-up\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\n                    <path fill=\"currentColor\" d=\"M4.465 366.475l7.07 7.071c4.686 4.686 12.284 4.686 16.971 0L224 178.053l195.494 195.493c4.686 4.686 12.284 4.686 16.971 0l7.07-7.071c4.686-4.686 4.686-12.284 0-16.97l-211.05-211.051c-4.686-4.686-12.284-4.686-16.971 0L4.465 349.505c-4.687 4.686-4.687 12.284 0 16.97z\" className=\"\" />\n                  </svg>\n                )\n            }\n\n          </div>\n          <button onClick={handleClick} className=\"btn btn--orange--full\" type=\"button\">\n            Apply to join\n          </button>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nDetail.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default withRouter(Detail);\n"]},"metadata":{},"sourceType":"module"}