{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as houseActions from'../actions/houseActions';import{withRouter,Link}from'react-router-dom';import nav from'../styles/HiddenNav.module.css';var HiddenNav=function HiddenNav(_ref){var history=_ref.history,actions=_ref.actions,state=_ref.state;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){setUser(state.currentUser);},[state.currentUser]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:actions.fetchSubscription('https://aqueous-wildwood-18424.herokuapp.com/auth/login',{method:\"POST\",headers:{\"Content-Length\":57,\"Content-Type\":\"application/json; charset=utf-8\"},credentials:\"same-origin\"},'SIGNOUT');case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();var clickHandler=function clickHandler(e){e.preventDefault();localStorage.removeItem('token');localStorage.removeItem('id');handleSubmit();setTimeout(function(){history.push('/',state);},1000);};return/*#__PURE__*/React.createElement(\"aside\",{id:\"me\",className:nav.main},/*#__PURE__*/React.createElement(\"nav\",{className:nav.side},/*#__PURE__*/React.createElement(\"div\",{className:nav.profile},user?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{className:nav['profile-picture'],href:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:user.picture,alt:\"Current user profile\"})),/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},user.name)),/*#__PURE__*/React.createElement(\"small\",{className:nav.nick},/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},\"@\",user.name))):null),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/list\"},\"All Meets\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/favorites\"},\"Favorites\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/messages\"},\"Messages\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Groups\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Statistics\"))),/*#__PURE__*/React.createElement(\"div\",{className:nav['nav-footer']},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},\"Help\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:clickHandler},\"Logout\"))))));};function mapStateToProps(_ref3){var state=_ref3.state;return{state:_objectSpread({},state)};}function mapActionsToProps(dispatch){return{actions:bindActionCreators(_objectSpread({},houseActions),dispatch)};}export default connect(mapStateToProps,mapActionsToProps)(withRouter(HiddenNav));","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/HiddenNav.js"],"names":["React","useEffect","useState","connect","bindActionCreators","houseActions","withRouter","Link","nav","HiddenNav","history","actions","state","user","setUser","currentUser","handleSubmit","fetchSubscription","method","headers","credentials","clickHandler","e","preventDefault","localStorage","removeItem","setTimeout","push","main","side","profile","picture","name","nick","mapStateToProps","mapActionsToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as houseActions from '../actions/houseActions';\nimport { withRouter, Link } from 'react-router-dom';\nimport nav from '../styles/HiddenNav.module.css';\n\nconst HiddenNav = ({ history, actions, state }) => {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    setUser(state.currentUser);\n  }, [state.currentUser]);\n\n  const handleSubmit = async () => {\n    actions.fetchSubscription('https://aqueous-wildwood-18424.herokuapp.com/auth/login', {\n      method: \"POST\",\n      headers: {\n        \"Content-Length\": 57,\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      },\n      credentials: \"same-origin\"\n    }, 'SIGNOUT');\n  }\n\n  const clickHandler = e => {\n    e.preventDefault();\n\n    localStorage.removeItem('token');\n    localStorage.removeItem('id');\n    handleSubmit();\n\n    setTimeout(() => {\n      history.push('/', state);\n    }, 1000);\n  }\n\n  return (\n    <aside id=\"me\" className={nav.main}>\n      <nav className={nav.side}>\n        <div className={nav.profile}>\n          {\n            user\n              ? (\n                <>\n                  <a className={nav['profile-picture']} href=\"/\">\n                    <img src={user.picture} alt=\"Current user profile\" />\n                  </a>\n                  <h3><a href=\"/\">{user.name}</a></h3>\n              <small className={nav.nick}><a href=\"/\">@{user.name}</a></small>\n                </>\n            )\n              : null\n          }\n        </div>\n        <ul>\n          <li><Link to=\"/list\">All Meets</Link></li>\n          <li><Link to=\"/favorites\">Favorites</Link></li>\n          <li><Link to=\"/messages\">Messages</Link></li>\n          <li><Link to=\"/\">Groups</Link></li>\n          <li><Link to=\"/\">Statistics</Link></li>\n        </ul>\n        <div className={nav['nav-footer']}>\n          <ul>\n            <li><a href=\"/\">Help</a></li>\n            <li><a href=\"#\" onClick={clickHandler}>Logout</a></li>\n          </ul>\n        </div>\n      </nav>\n    </aside>\n  );\n};\n\nfunction mapStateToProps({ state }) {\n  return { state: { ...state } };\n}\n\nfunction mapActionsToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ ...houseActions }, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(HiddenNav));\n"]},"metadata":{},"sourceType":"module"}