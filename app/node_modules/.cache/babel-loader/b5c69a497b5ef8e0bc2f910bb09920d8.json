{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Usuario\\\\reactProjects\\\\findYourHouse\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";/* eslint-disable import/no-named-as-default */ /* eslint-disable import/no-named-as-default-member */import React,{useRef,useEffect}from'react';import app from'../styles/LandingPage.module.css';import CarouselCard from'./CarouselCard';var Carousel=function Carousel(_ref){var count=_ref.count,chat=_ref.chat,controllers=_ref.controllers,users=_ref.users,list=_ref.list;var scroller=useRef(null);var counter=useRef(null);var width=controllers?450:window.innerWidth*0.8;width=chat?66:width;var cardPerView=0;var currentCard=0;useEffect(function(){if(count<1){return;};console.log(list);scroller.current.scrollTo(0,0);cardPerView=Math.floor(scroller.current.clientWidth/width);currentCard=Math.floor(cardPerView/2+scroller.current.scrollLeft/width);document.getElementById(\"card-\".concat(currentCard))&&document.getElementById(\"card-\".concat(currentCard)).classList.add('carousel__item--active');if(controllers){document.getElementById(\"controller-\".concat(currentCard)).classList.add('carousel__controller--on');}},[scroller]);var clickHandler=function clickHandler(e){var x=parseInt(e.target.dataset.x,10);scroller.current.scrollTo(x===0?x:x-width,0);_toConsumableArray(new Array(count)).forEach(function(_user,i){if(i===x/width){document.getElementById(\"card-\".concat(i)).classList.add('carousel__item--active');if(controllers){document.getElementById(\"controller-\".concat(i)).classList.add('carousel__controller--on');}}else{document.getElementById(\"card-\".concat(i)).classList.remove('carousel__item--active');if(controllers){document.getElementById(\"controller-\".concat(i)).classList.remove('carousel__controller--on');}}});};var keyDownHandler=function keyDownHandler(e){if(e.keyCode===13){clickHandler(e);}};var scrollHandler=function scrollHandler(){var scrollTo=cardPerView/2+scroller.current.scrollLeft/width;scrollTo=Math.floor(scrollTo);if(chat&&document.getElementById(\"card-\".concat(scrollTo))){if(cardPerView/2+scroller.current.scrollLeft/width<=1.5){document.getElementById(\"card-0\").classList.add('carousel__item--active');document.getElementById(\"controller-0\").classList.add('carousel__controller--on');document.getElementById(\"card-1\").classList.remove('carousel__item--active');document.getElementById(\"controller-1\").classList.remove('carousel__controller--on');return;}if(scroller.current.scrollLeftMax-scroller.current.scrollLeft<4){document.getElementById(\"card-\".concat(count-1)).classList.add('carousel__item--active');document.getElementById(\"controller-\".concat(count-1)).classList.add('carousel__controller--on');document.getElementById(\"card-\".concat(count-2)).classList.remove('carousel__item--active');document.getElementById(\"controller-\".concat(count-2)).classList.remove('carousel__controller--on');return;}else{document.getElementById(\"card-\".concat(scrollTo)).classList.add('carousel__item--active');document.getElementById(\"controller-\".concat(scrollTo)).classList.add('carousel__controller--on');if(scrollTo===count-2&&scroller.current.scrollLeftMax-scroller.current.scrollLeft>=4){document.getElementById(\"card-\".concat(count-1)).classList.remove('carousel__item--active');document.getElementById(\"controller-\".concat(count-1)).classList.remove('carousel__controller--on');}if(scrollTo>0){document.getElementById(\"card-\".concat(scrollTo-1)).classList.remove('carousel__item--active');document.getElementById(\"controller-\".concat(scrollTo-1)).classList.remove('carousel__controller--on');}if(scrollTo<count-2){document.getElementById(\"card-\".concat(scrollTo+1)).classList.remove('carousel__item--active');document.getElementById(\"controller-\".concat(scrollTo+1)).classList.remove('carousel__controller--on');}return;}}if(document.getElementById(\"card-\".concat(scrollTo))){document.getElementById(\"card-\".concat(scrollTo)).classList.add('carousel__item--active');}if(controllers){document.getElementById(\"controller-\".concat(scrollTo)).classList.add('carousel__controller--on');}if(scrollTo>0){document.getElementById(\"card-\".concat(scrollTo-1)).classList.remove('carousel__item--active');if(controllers){document.getElementById(\"controller-\".concat(scrollTo-1)).classList.remove('carousel__controller--on');}if(counter.current){counter.current.innerText=!controllers?scrollTo+1:null;}}if(scrollTo<count-1){document.getElementById(\"card-\".concat(scrollTo+1)).classList.remove('carousel__item--active');if(controllers){document.getElementById(\"controller-\".concat(scrollTo+1)).classList.remove('carousel__controller--on');}if(counter.current){counter.current.innerText=!controllers?scrollTo+1:null;}}};var controllerElement=function controllerElement(type){switch(type){case'chat':return/*#__PURE__*/React.createElement(\"div\",{className:app['count--chat']},/*#__PURE__*/React.createElement(\"span\",{ref:counter},\"1\"),users.map(function(user,i){return/*#__PURE__*/React.createElement(\"div\",{onClick:clickHandler,key:i,\"data-x\":i*width,id:\"controller-\".concat(i),role:\"button\",tabIndex:-1,\"aria-label\":\"Chat friend name\",className:\"carousel__controller--chat\"},user.name);}));case'product':return/*#__PURE__*/React.createElement(\"div\",{className:app.count},/*#__PURE__*/React.createElement(\"span\",{ref:counter},\"1\"),\"/\",count);case'testemunial':return/*#__PURE__*/React.createElement(\"div\",{className:app.carousel__controllers},_toConsumableArray(new Array(count)).map(function(_item,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,\"data-x\":i*width,id:\"controller-\".concat(i),role:\"button\",tabIndex:-1,\"aria-label\":\"Carousel controller\",onKeyDown:keyDownHandler,onClick:clickHandler,className:\"carousel__controller\"});}));default:return/*#__PURE__*/React.createElement(\"div\",{className:app.carousel__controllers},_toConsumableArray(new Array(count)).map(function(_item,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,\"data-x\":i*width,id:\"controller-\".concat(i),role:\"button\",tabIndex:-1,\"aria-label\":\"Carousel controller\",onKeyDown:keyDownHandler,onClick:clickHandler,className:\"carousel__controller\"});}));}};return/*#__PURE__*/React.createElement(\"div\",{onScroll:scrollHandler,ref:scroller,className:app[chat?'content--carousel--chat':'content--carousel']},count>0&&list&&_toConsumableArray(list).map(function(item,i){return/*#__PURE__*/React.createElement(CarouselCard,{key:item.id,item:item,id:\"card-\".concat(i),name:users&&users.length?users[i].name:null,type:controllers?'testemunial':chat?'chat':'product'});}),count>0&&chat&&_toConsumableArray(users).map(function(item,i){return/*#__PURE__*/React.createElement(CarouselCard,{key:item.id,item:item,id:\"card-\".concat(i),name:users&&users.length?users[i].name:null,type:controllers?'testemunial':chat?'chat':'product'});}),count>0&&controllerElement(controllers?'testemunial':chat?'chat':'product'));};export default Carousel;","map":{"version":3,"sources":["C:/Users/Usuario/reactProjects/findYourHouse/app/src/components/Carousel.js"],"names":["React","useRef","useEffect","app","CarouselCard","Carousel","count","chat","controllers","users","list","scroller","counter","width","window","innerWidth","cardPerView","currentCard","console","log","current","scrollTo","Math","floor","clientWidth","scrollLeft","document","getElementById","classList","add","clickHandler","e","x","parseInt","target","dataset","Array","forEach","_user","i","remove","keyDownHandler","keyCode","scrollHandler","scrollLeftMax","innerText","controllerElement","type","map","user","name","carousel__controllers","_item","item","id","length"],"mappings":"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","sourcesContent":["/* eslint-disable import/no-named-as-default */\n/* eslint-disable import/no-named-as-default-member */\nimport React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport app from '../styles/LandingPage.module.css';\nimport CarouselCard from './CarouselCard';\n\nconst Carousel = ({ count, chat, controllers, users, list }) => {\n  const scroller = useRef(null);\n  const counter = useRef(null);\n  let width = controllers ? 450 : window.innerWidth * 0.8;\n  width = chat ? 66 : width;\n\n  let cardPerView = 0;\n  let currentCard = 0;\n\n  useEffect(() => {\n    if (count < 1) { return };\n\n    console.log(list);\n    scroller.current.scrollTo(0, 0);\n    cardPerView = Math.floor(scroller.current.clientWidth / (width));\n    currentCard = Math.floor((cardPerView / 2) + (scroller.current.scrollLeft / width));\n    document.getElementById(`card-${currentCard}`) && document.getElementById(`card-${currentCard}`).classList.add('carousel__item--active');\n    if (controllers) {\n      document.getElementById(`controller-${currentCard}`).classList.add('carousel__controller--on');\n    }\n  }, [scroller]);\n\n  const clickHandler = e => {\n    const x = parseInt(e.target.dataset.x, 10);\n    scroller.current.scrollTo(x === 0 ? x : x - width, 0);\n\n    [...new Array(count)].forEach((_user, i) => {\n      if (i === x / width) {\n        document.getElementById(`card-${i}`).classList.add('carousel__item--active');\n        if (controllers) {\n          document.getElementById(`controller-${i}`).classList.add('carousel__controller--on');\n        }\n      } else {\n        document.getElementById(`card-${i}`).classList.remove('carousel__item--active');\n        if (controllers) {\n          document.getElementById(`controller-${i}`).classList.remove('carousel__controller--on');\n        }\n      }\n    });\n  };\n\n  const keyDownHandler = e => {\n    if (e.keyCode === 13) {\n      clickHandler(e);\n    }\n  };\n\n  const scrollHandler = () => {\n    let scrollTo = (cardPerView / 2) + (scroller.current.scrollLeft / width);\n\n    scrollTo = Math.floor(scrollTo);\n\n    if (chat && document.getElementById(`card-${scrollTo}`)) {\n      if ((cardPerView / 2) + (scroller.current.scrollLeft / width) <= 1.5) {\n        document.getElementById(`card-0`).classList.add('carousel__item--active');\n        document.getElementById(`controller-0`).classList.add('carousel__controller--on');\n        document.getElementById(`card-1`).classList.remove('carousel__item--active');\n        document.getElementById(`controller-1`).classList.remove('carousel__controller--on');\n        return;\n      } if (scroller.current.scrollLeftMax - scroller.current.scrollLeft < 4) {\n        document.getElementById(`card-${count - 1}`).classList.add('carousel__item--active');\n        document.getElementById(`controller-${count - 1}`).classList.add('carousel__controller--on');\n        document.getElementById(`card-${count - 2}`).classList.remove('carousel__item--active');\n        document.getElementById(`controller-${count - 2}`).classList.remove('carousel__controller--on');\n        return;\n      } else {\n        document.getElementById(`card-${scrollTo}`).classList.add('carousel__item--active');\n        document.getElementById(`controller-${scrollTo}`).classList.add('carousel__controller--on');\n        if (scrollTo === count - 2 && scroller.current.scrollLeftMax - scroller.current.scrollLeft >= 4) {\n          document.getElementById(`card-${count - 1}`).classList.remove('carousel__item--active');\n          document.getElementById(`controller-${count - 1}`).classList.remove('carousel__controller--on');\n        }\n\n        if (scrollTo > 0) {\n          document.getElementById(`card-${scrollTo - 1}`).classList.remove('carousel__item--active');\n          document.getElementById(`controller-${scrollTo - 1}`).classList.remove('carousel__controller--on');\n        }\n        if (scrollTo < count - 2) {\n          document.getElementById(`card-${scrollTo + 1}`).classList.remove('carousel__item--active');\n          document.getElementById(`controller-${scrollTo + 1}`).classList.remove('carousel__controller--on');\n        }\n        return;\n      }\n\n    }\n\n    if (document.getElementById(`card-${scrollTo}`)) {\n      document.getElementById(`card-${scrollTo}`).classList.add('carousel__item--active');\n    }\n    if (controllers) {\n      document.getElementById(`controller-${scrollTo}`).classList.add('carousel__controller--on');\n    }\n\n    if (scrollTo > 0) {\n      document.getElementById(`card-${scrollTo - 1}`).classList.remove('carousel__item--active');\n      if (controllers) {\n        document.getElementById(`controller-${scrollTo - 1}`).classList.remove('carousel__controller--on');\n      }\n      if (counter.current) {\n        counter.current.innerText = !controllers ? scrollTo + 1 : null;\n      }\n    }\n\n    if (scrollTo < count - 1) {\n      document.getElementById(`card-${scrollTo + 1}`).classList.remove('carousel__item--active');\n      if (controllers) {\n        document.getElementById(`controller-${scrollTo + 1}`).classList.remove('carousel__controller--on');\n      }\n      if (counter.current) {\n        counter.current.innerText = !controllers ? scrollTo + 1 : null;\n      }\n    }\n  };\n\n  const controllerElement = (type) => {\n    switch (type) {\n      case 'chat':\n        return (\n          <div className={app['count--chat']}>\n            <span ref={counter}>1</span>\n            {users.map((user, i) => {\n              return (<div  onClick={clickHandler} key={i} data-x={i * width} id={`controller-${i}`} role=\"button\" tabIndex={-1} aria-label=\"Chat friend name\" className=\"carousel__controller--chat\">{user.name}</div>)\n            })}\n          </div>\n        )\n      case 'product':\n        return (\n          <div className={app.count}>\n            <span ref={counter}>1</span>\n            /\n            {count}\n          </div>\n        )\n      case 'testemunial':\n        return (\n          <div className={app.carousel__controllers}>\n            {[...new Array(count)].map((_item, i) => <div key={i} data-x={i * width} id={`controller-${i}`} role=\"button\" tabIndex={-1} aria-label=\"Carousel controller\" onKeyDown={keyDownHandler} onClick={clickHandler} className=\"carousel__controller\" />)}\n          </div>\n        )\n      default:\n        return (\n          <div className={app.carousel__controllers}>\n            {[...new Array(count)].map((_item, i) => <div key={i} data-x={i * width} id={`controller-${i}`} role=\"button\" tabIndex={-1} aria-label=\"Carousel controller\" onKeyDown={keyDownHandler} onClick={clickHandler} className=\"carousel__controller\" />)}\n          </div>\n        )\n    }\n  }\n\n  return (\n    <div onScroll={scrollHandler} ref={scroller} className={app[chat ? 'content--carousel--chat' : 'content--carousel']}>\n      {count > 0 && list && [...list].map((item, i) => <CarouselCard key={item.id} item={item} id={`card-${i}`} name={users && users.length ? users[i].name : null} type={controllers ? 'testemunial' : (chat ? 'chat' : 'product')} />)}\n      \n      {count > 0 && chat && [...users].map((item, i) => <CarouselCard key={item.id} item={item} id={`card-${i}`} name={users && users.length ? users[i].name : null} type={controllers ? 'testemunial' : (chat ? 'chat' : 'product')} />)}\n\n      {count > 0 && controllerElement(controllers ? 'testemunial' : (chat ? 'chat' : 'product')) }\n    </div>\n  );\n};\n\nCarousel.propTypes = {\n  count: PropTypes.number.isRequired,\n  chat: PropTypes.bool.isRequired,\n  controllers: PropTypes.bool.isRequired,\n  users: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default Carousel;\n"]},"metadata":{},"sourceType":"module"}